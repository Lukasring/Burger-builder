{"version":3,"sources":["store/actions/actionTypes.js","store/actions/burgerBuilder.js","store/actions/auth.js","shared/utility.js","store/actions/order.js","hoc/Auxilary/Auxilary.js","components/Burger/BurgerIngredient/BurgerIngredient.module.css","axios-orders.js","components/UI/Button/Button.js","components/UI/Spinner/Spinner.js","components/Navigation/SideDrawer/SideDrawer.module.css","components/Burger/BuildControls/BuildControl/BuildControl.module.css","components/UI/Input/Input.module.css","components/UI/Backdrop/Backdrop.js","components/UI/Modal/Modal.js","components/Navigation/Toolbar/Toolbar.module.css","components/Navigation/NavigationItems/NavigationItem/NavigationItem.module.css","components/Burger/BuildControls/BuildControls.module.css","components/UI/Button/Button.module.css","hoc/withErrorHandler/withErrorHandler.js","hooks/http-error-handler.js","components/UI/Input/Input.js","components/Burger/BurgerIngredient/BurgerIngredient.js","components/Burger/Burger.js","assets/images/burger-logo.png","components/Logo/Logo.module.css","components/Navigation/NavigationItems/NavigationItems.module.css","components/Navigation/SideDrawer/DrawerToggle/DrawerToggle.module.css","components/UI/Backdrop/Backdrop.module.css","hoc/Layout/Layout.module.css","components/Burger/Burger.module.css","components/UI/Modal/Modal.module.css","components/UI/Spinner/Spinner.module.css","containers/Auth/Auth.module.css","store/sagas/auth.js","store/sagas/order.js","store/sagas/burgerBuilder.js","store/sagas/index.js","components/Logo/Logo.js","components/Navigation/NavigationItems/NavigationItem/NavigationItem.js","components/Navigation/NavigationItems/NavigationItems.js","components/Navigation/SideDrawer/DrawerToggle/DrawerToggle.js","components/Navigation/Toolbar/Toolbar.js","components/Navigation/SideDrawer/SideDrawer.js","hoc/Layout/Layout.js","components/Burger/BuildControls/BuildControl/BuildControl.js","components/Burger/BuildControls/BuildControls.js","components/Burger/OrderSummary/OrderSummary.js","containers/BurgerBuilder/BurgerBuilder.js","containers/Auth/Auth.js","containers/Auth/Logout/Logout.js","App.js","serviceWorker.js","store/reducers/burgerBuilder.js","store/reducers/order.js","store/reducers/auth.js","index.js"],"names":["INIT_INGREDIENTS","ADD_INGREDIENT","REMOVE_INGREDIENT","SET_INGREDIENTS","FETCH_INGREDIENTS_FAILED","PURCHASE_BURGER","PURCHASE_BURGER_START","PURCHASE_BURGER_SUCCESS","PURCHASE_BURGER_FAIL","PURCHASE_INIT","FETCH_ORDERS","FETCH_ORDERS_START","FETCH_ORDERS_SUCCESS","FETCH_ORDERS_FAIL","DELETE_ORDER","DELETE_ORDER_SUCCESS","DELETE_ORDER_FAIL","AUTH_USER","AUTH_START","AUTH_SUCCESS","AUTH_FAIL","AUTH_CHECK_STATE","AUTH_CHECK_TIMEOUT","AUTH_INIT_LOGOUT","AUTH_LOGOUT","SET_AUTH_REDIRECT_PATH","addIngredient","ingredientName","type","actionTypes","removeIngredient","setIngredients","ingredients","initIngredients","authStart","authSuccess","token","userId","idToken","authFail","error","logout","logoutSuccess","checkAuthTimeout","expirationTime","auth","email","password","isSignUp","setAuthRedirectPath","path","authCheckState","updateObject","oldObject","updatedProperties","checkValidity","value","rules","isValid","required","trim","minLength","length","maxLength","isEmail","test","isNumeric","purchaseBurger","orderData","purchaseBurgerStart","purchaseBurgerSuccess","orderId","purchaseBurgerFail","purchaseInit","fetchOrdersSuccess","orders","fetchOrdersFail","fetchOrdersStart","fetchOrders","deleteOrderSuccess","deleteOrderFail","deleteOrder","auxilary","props","children","module","exports","instance","axios","create","baseURL","button","disabled","className","classes","Button","btnType","join","onClick","clicked","spinner","Loader","backdrop","show","Backdrop","React","memo","modalClosed","Modal","style","transform","opacity","prevProps","nextProps","withErrorHandler","WrappedComponent","httpClient","useState","setError","reqInterceptor","interceptors","request","use","req","resInterceptor","response","res","err","useEffect","eject","useHttpErrorHandler","clearError","message","input","inputElement","inputClasses","InputElement","invalid","shouldValidate","touched","push","Invalid","inputType","onChange","changed","elementConfig","options","map","option","key","displayValue","Input","Label","label","burgerIngredient","ingredient","BreadBottom","BreadTop","Seeds1","Seeds2","Meat","Cheese","Salad","Bacon","burger","transformedIngredients","Object","keys","igKey","Array","_","i","BurgerIngredient","reduce","arr","el","concat","Burger","logoutSaga","checkAuthTimeoutSaga","authUserSaga","authCheckStateSaga","action","localStorage","removeItem","put","actions","delay","authData","returnSecureToken","url","post","exparationDate","Date","getTime","data","expiresIn","setItem","localId","console","log","getItem","purchaseBurgerSaga","fetchOrdersSaga","deleteOrderSaga","name","queryParams","get","fetchedOrders","id","delete","salad","bacon","cheese","meat","watchAuth","watchBurgerBuilder","watchOrder","takeEvery","authSagas","orderSagas","logo","Logo","height","src","burgerLogo","alt","navigationItem","NavigationItem","to","link","exact","activeClassName","active","navigationItems","NavigationItems","isAuth","Fragment","drawerToggle","DrawerToggle","toolbar","Toolbar","toggleDrawer","DesktopOnly","SideDrawer","attachedClasses","Close","open","Open","closed","connect","state","isAuthenticated","sideDrawerIsVisible","setSideDrawerIsVisible","Content","buildControl","BuildControl","Less","removed","More","added","controls","buildControls","BuildControls","price","toFixed","control","ingredientAdded","ingredientRemoved","OrderButton","purchasable","ordered","orderSummary","ingredientSummary","textTransform","purchaseCancelled","purchaseContinued","burgerBuilder","totalPrice","burgerBuildererror","building","dispatch","onAddIngredient","onRemoveIngredient","onInitIngredients","onInitPurchase","onSetAuthRedirectPath","purchasing","setPurchasing","purchaseCancelHandler","disabledInfo","Spinner","values","some","amount","history","OrderSummary","pathname","loading","buildingBurger","authRedirectPath","onAuth","elementType","placeholder","validation","valid","setControls","setIsSignUp","formElementsArray","config","form","element","event","controlName","updatedControls","target","inputChangedHandler","authRedirect","errorMessage","color","Auth","onSubmit","preventDefault","onLogout","Checkout","lazy","Orders","onTryAutoSignIn","routes","component","BurgerBuilder","Logout","fallback","Boolean","window","location","hostname","match","initialState","INGREDIENT_PRICES","updatedIngredient","updatedState","reducer","purchased","newOrder","newOrders","filter","order","authLogout","composeEnhancers","compose","rootReducer","combineReducers","burgerBuilderReducer","orderReducer","authReducer","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","thunk","run","app","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.a6afc67a.chunk.js","sourcesContent":["export const INIT_INGREDIENTS = \"INIT_INGREDIENTS\";\r\nexport const ADD_INGREDIENT = \"ADD_INGREDIENT\";\r\nexport const REMOVE_INGREDIENT = \"REMOVE_INGREDIENT\";\r\nexport const SET_INGREDIENTS = \"SET_INGREDIENTS\";\r\nexport const FETCH_INGREDIENTS_FAILED = \"FETCH_INGREDIENTS_FAILED\";\r\n\r\nexport const PURCHASE_BURGER = \"PURCHASE_BURGER\";\r\nexport const PURCHASE_BURGER_START = \"PURCHASE_BURGER_START\";\r\nexport const PURCHASE_BURGER_SUCCESS = \"PURCHASE_BURGER_SUCCESS\";\r\nexport const PURCHASE_BURGER_FAIL = \"PURCHASE_BURGER_FAIL\";\r\nexport const PURCHASE_INIT = \"PURCHASE INIT\";\r\n\r\nexport const FETCH_ORDERS = \"FETCH_ORDERS\";\r\nexport const FETCH_ORDERS_START = \"FETCH_ORDERS_START\";\r\nexport const FETCH_ORDERS_SUCCESS = \"FETCH_ORDERS_SUCCESS\";\r\nexport const FETCH_ORDERS_FAIL = \"FETCH_ORDERS_FAIL\";\r\n\r\nexport const DELETE_ORDER = \"DELETE_ORDER\";\r\nexport const DELETE_ORDER_SUCCESS = \"DELETE_ORDER_SUCCESS\";\r\nexport const DELETE_ORDER_FAIL = \"DELETE_ORDER_FAIL\";\r\n\r\nexport const AUTH_USER = \"AUTH_USER\";\r\nexport const AUTH_START = \"AUTH_START\";\r\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\r\nexport const AUTH_FAIL = \"AUTH_FAIL\";\r\nexport const AUTH_CHECK_STATE = \"AUTH_CHECK_STATE\";\r\nexport const AUTH_CHECK_TIMEOUT = \"AUTH_CHECK_TIMEOUT\";\r\nexport const AUTH_INIT_LOGOUT = \"AUTH_INIT_LOGOUT\";\r\nexport const AUTH_LOGOUT = \"AUTH_LOGOUT\";\r\n\r\nexport const SET_AUTH_REDIRECT_PATH = \"SET_AUTH_REDIRECT_PATH\";\r\n","import * as actionTypes from \"./actionTypes\";\r\n\r\nexport const addIngredient = (ingredientName) => {\r\n  return {\r\n    type: actionTypes.ADD_INGREDIENT,\r\n    ingredientName: ingredientName,\r\n  };\r\n};\r\n\r\nexport const removeIngredient = (ingredientName) => {\r\n  return {\r\n    type: actionTypes.REMOVE_INGREDIENT,\r\n    ingredientName: ingredientName,\r\n  };\r\n};\r\n\r\nexport const setIngredients = (ingredients) => {\r\n  return {\r\n    type: actionTypes.SET_INGREDIENTS,\r\n    ingredients: ingredients,\r\n  };\r\n};\r\n\r\nexport const fetchIngredientsFailed = () => {\r\n  return {\r\n    type: actionTypes.FETCH_INGREDIENTS_FAILED,\r\n  };\r\n};\r\n\r\nexport const initIngredients = () => {\r\n  return {\r\n    type: actionTypes.INIT_INGREDIENTS,\r\n  };\r\n};\r\n","import * as actionTypes from \"./actionTypes\";\r\n\r\nexport const authStart = () => {\r\n  return {\r\n    type: actionTypes.AUTH_START,\r\n  };\r\n};\r\n\r\nexport const authSuccess = (token, userId) => {\r\n  return {\r\n    type: actionTypes.AUTH_SUCCESS,\r\n    idToken: token,\r\n    userId: userId,\r\n  };\r\n};\r\n\r\nexport const authFail = (error) => {\r\n  return {\r\n    type: actionTypes.AUTH_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  // localStorage.removeItem(\"token\");\r\n  // localStorage.removeItem(\"exparationDate\");\r\n  // localStorage.removeItem(\"userId\");\r\n  return {\r\n    type: actionTypes.AUTH_INIT_LOGOUT,\r\n  };\r\n};\r\n\r\nexport const logoutSuccess = () => {\r\n  return {\r\n    type: actionTypes.AUTH_LOGOUT,\r\n  };\r\n};\r\n\r\nexport const checkAuthTimeout = (expirationTime) => {\r\n  return {\r\n    type: actionTypes.AUTH_CHECK_TIMEOUT,\r\n    expirationTime: expirationTime,\r\n  };\r\n};\r\n\r\nexport const auth = (email, password, isSignUp) => {\r\n  return {\r\n    type: actionTypes.AUTH_USER,\r\n    email: email,\r\n    password: password,\r\n    isSignUp: isSignUp,\r\n  };\r\n};\r\n\r\nexport const setAuthRedirectPath = (path) => {\r\n  return {\r\n    type: actionTypes.SET_AUTH_REDIRECT_PATH,\r\n    path: path,\r\n  };\r\n};\r\n\r\nexport const authCheckState = () => {\r\n  return {\r\n    type: actionTypes.AUTH_CHECK_STATE,\r\n  };\r\n};\r\n","export const updateObject = (oldObject, updatedProperties) => {\r\n  return {\r\n    ...oldObject,\r\n    ...updatedProperties,\r\n  };\r\n};\r\n\r\nexport const checkValidity = (value, rules) => {\r\n  if (!rules) return;\r\n  let isValid = true;\r\n  if (rules.required) {\r\n    isValid = value.trim() !== \"\" && isValid;\r\n  }\r\n  if (rules.minLength) {\r\n    isValid = value.length >= rules.minLength && isValid;\r\n  }\r\n  if (rules.maxLength) {\r\n    isValid = value.length <= rules.maxLength && isValid;\r\n  }\r\n  if (rules.isEmail) {\r\n    const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\r\n    isValid = pattern.test(value) && isValid;\r\n  }\r\n  if (rules.isNumeric) {\r\n    const pattern = /^\\d+$/;\r\n    isValid = pattern.test(value) && isValid;\r\n  }\r\n\r\n  return isValid;\r\n};\r\n","import * as actionTypes from \"./actionTypes\";\r\n\r\nexport const purchaseBurger = (orderData, token) => {\r\n  return {\r\n    type: actionTypes.PURCHASE_BURGER,\r\n    orderData: orderData,\r\n    token: token,\r\n  };\r\n};\r\n\r\nexport const purchaseBurgerStart = () => {\r\n  return {\r\n    type: actionTypes.PURCHASE_BURGER_START,\r\n  };\r\n};\r\n\r\nexport const purchaseBurgerSuccess = (orderId, orderData) => {\r\n  return {\r\n    type: actionTypes.PURCHASE_BURGER_SUCCESS,\r\n    orderId: orderId,\r\n    orderData: orderData,\r\n  };\r\n};\r\n\r\nexport const purchaseBurgerFail = (error) => {\r\n  return {\r\n    type: actionTypes.PURCHASE_BURGER_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const purchaseInit = () => {\r\n  return {\r\n    type: actionTypes.PURCHASE_INIT,\r\n  };\r\n};\r\n\r\nexport const fetchOrdersSuccess = (orders) => {\r\n  return {\r\n    type: actionTypes.FETCH_ORDERS_SUCCESS,\r\n    orders: orders,\r\n  };\r\n};\r\n\r\nexport const fetchOrdersFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_ORDERS_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchOrdersStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_ORDERS_START,\r\n  };\r\n};\r\n\r\nexport const fetchOrders = (token, userId) => {\r\n  return {\r\n    type: actionTypes.FETCH_ORDERS,\r\n    token: token,\r\n    userId: userId,\r\n  };\r\n};\r\n\r\nexport const deleteOrderSuccess = (orderId) => {\r\n  return {\r\n    type: actionTypes.DELETE_ORDER_SUCCESS,\r\n    orderId: orderId,\r\n  };\r\n};\r\n\r\nexport const deleteOrderFail = (error) => {\r\n  return {\r\n    type: actionTypes.DELETE_ORDER_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const deleteOrder = (orderId, token) => {\r\n  return {\r\n    type: actionTypes.DELETE_ORDER,\r\n    orderId: orderId,\r\n    token: token,\r\n  };\r\n};\r\n","const auxilary = (props) => props.children;\r\n\r\nexport default auxilary;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BreadBottom\":\"BurgerIngredient_BreadBottom__WwZ4j\",\"BreadTop\":\"BurgerIngredient_BreadTop__1M2Sa\",\"Seeds1\":\"BurgerIngredient_Seeds1__1oZ4R\",\"Seeds2\":\"BurgerIngredient_Seeds2__sSjeN\",\"Meat\":\"BurgerIngredient_Meat__sq71H\",\"Cheese\":\"BurgerIngredient_Cheese__31aye\",\"Salad\":\"BurgerIngredient_Salad__1McI7\",\"Bacon\":\"BurgerIngredient_Bacon__1Mzsk\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://react-my-burger-55769.firebaseio.com/\",\r\n});\r\n\r\nexport default instance;\r\n","import React from \"react\";\r\nimport classes from \"./Button.module.css\";\r\n\r\nconst button = (props) => (\r\n  <button\r\n    disabled={props.disabled}\r\n    className={[classes.Button, classes[props.btnType]].join(\" \")}\r\n    onClick={props.clicked}\r\n  >\r\n    {props.children}\r\n  </button>\r\n);\r\n\r\nexport default button;\r\n","import React from \"react\";\r\nimport classes from \"./Spinner.module.css\";\r\n\r\nconst spinner = () => <div className={classes.Loader}>Loading...</div>;\r\n\r\nexport default spinner;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SideDrawer\":\"SideDrawer_SideDrawer__1M9Ch\",\"Open\":\"SideDrawer_Open__3FC57\",\"Close\":\"SideDrawer_Close__DqL4T\",\"Logo\":\"SideDrawer_Logo__2KOUs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BuildControl\":\"BuildControl_BuildControl__33SUO\",\"Label\":\"BuildControl_Label__TdA75\",\"Less\":\"BuildControl_Less__28-lV\",\"More\":\"BuildControl_More__jrIEM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__N4LUF\",\"Label\":\"Input_Label__NwG3W\",\"InputElement\":\"Input_InputElement__2wQ99\",\"Invalid\":\"Input_Invalid__2fNjx\"};","import React from \"react\";\r\nimport classes from \"./Backdrop.module.css\";\r\n\r\nconst backdrop = (props) =>\r\n  props.show ? (\r\n    <div className={classes.Backdrop} onClick={props.clicked}></div>\r\n  ) : null;\r\n\r\nexport default backdrop;\r\n","import React from \"react\";\r\nimport Aux from \"../../../hoc/Auxilary/Auxilary\";\r\nimport Backdrop from \"../Backdrop/Backdrop\";\r\nimport classes from \"./Modal.module.css\";\r\n\r\nconst modal = (props) => {\r\n  //pakeista i react.memo\r\n  // shouldComponentUpdate(nextProps) {\r\n  //   return (\r\n  //     this.props.show !== nextProps.show ||\r\n  //     this.props.children !== nextProps.children\r\n  //   );\r\n  // }\r\n\r\n  return (\r\n    <Aux>\r\n      <Backdrop show={props.show} clicked={props.modalClosed} />\r\n      <div\r\n        className={classes.Modal}\r\n        style={{\r\n          transform: props.show ? \"translateY(0)\" : \"translateY(-100vh)\",\r\n          opacity: props.show ? \"1\" : \"0\",\r\n        }}\r\n      >\r\n        {props.children}\r\n      </div>\r\n    </Aux>\r\n  );\r\n};\r\n\r\nexport default React.memo(modal, (prevProps, nextProps) => {\r\n  return (\r\n    prevProps.show === nextProps.show &&\r\n    prevProps.children === nextProps.children\r\n  );\r\n});\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Toolbar\":\"Toolbar_Toolbar__h8PGA\",\"Logo\":\"Toolbar_Logo__1blXe\",\"DesktopOnly\":\"Toolbar_DesktopOnly__b8nuK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavigationItem\":\"NavigationItem_NavigationItem__MFqq6\",\"active\":\"NavigationItem_active__E3vUP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BuildControls\":\"BuildControls_BuildControls__1JSIF\",\"OrderButton\":\"BuildControls_OrderButton__2Psfc\",\"enable\":\"BuildControls_enable__3kqw5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__10Hzl\",\"Success\":\"Button_Success__PCY5l\",\"Danger\":\"Button_Danger__2PZZL\"};","import React from \"react\";\r\nimport Modal from \"../../components/UI/Modal/Modal\";\r\nimport Aux from \"../Auxilary/Auxilary\";\r\nimport useHttpErrorHandler from \"../../hooks/http-error-handler\";\r\n\r\nconst withErrorHandler = (WrappedComponent, axios) => {\r\n  return (props) => {\r\n    const [error, clearError] = useHttpErrorHandler(axios);\r\n    return (\r\n      <Aux>\r\n        <Modal show={error} modalClosed={clearError}>\r\n          {error ? error.message : null}\r\n        </Modal>\r\n        <WrappedComponent {...props} />\r\n      </Aux>\r\n    );\r\n  };\r\n};\r\n\r\nexport default withErrorHandler;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nexport default (httpClient) => {\r\n  const [error, setError] = useState();\r\n\r\n  const reqInterceptor = httpClient.interceptors.request.use((req) => {\r\n    setError(null);\r\n    return req;\r\n  });\r\n\r\n  const resInterceptor = httpClient.interceptors.response.use(\r\n    (res) => res,\r\n    (err) => {\r\n      setError(err);\r\n      return;\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      httpClient.interceptors.response.eject(resInterceptor);\r\n      httpClient.interceptors.request.eject(reqInterceptor);\r\n    };\r\n  }, [resInterceptor, reqInterceptor, httpClient]);\r\n\r\n  const errorConfirmedHandler = () => {\r\n    setError(null);\r\n  };\r\n\r\n  return [error, errorConfirmedHandler];\r\n};\r\n","import React from \"react\";\r\n\r\nimport classes from \"./Input.module.css\";\r\n\r\nconst input = (props) => {\r\n  let inputElement = null;\r\n  const inputClasses = [classes.InputElement];\r\n  if (props.invalid && props.shouldValidate && props.touched) {\r\n    inputClasses.push(classes.Invalid);\r\n  }\r\n\r\n  switch (props.inputType) {\r\n    case \"input\":\r\n      inputElement = (\r\n        <input\r\n          onChange={props.changed}\r\n          className={inputClasses.join(\" \")}\r\n          {...props.elementConfig}\r\n          value={props.value}\r\n        />\r\n      );\r\n      break;\r\n    case \"textarea\":\r\n      inputElement = (\r\n        <textarea\r\n          onChange={props.changed}\r\n          className={inputClasses.join(\" \")}\r\n          {...props.elementConfig}\r\n          value={props.value}\r\n        />\r\n      );\r\n      break;\r\n    case \"select\":\r\n      inputElement = (\r\n        <select\r\n          className={inputClasses.join(\" \")}\r\n          onChange={props.changed}\r\n          value={props.value}\r\n        >\r\n          {props.elementConfig.options.map((option) => (\r\n            <option key={option.value} value={option.value}>\r\n              {option.displayValue}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      );\r\n      break;\r\n    default:\r\n      inputElement = (\r\n        <input\r\n          className={inputClasses.join(\" \")}\r\n          onChange={props.changed}\r\n          {...props.elementConfig}\r\n          value={props.value}\r\n        />\r\n      );\r\n  }\r\n\r\n  return (\r\n    <div className={classes.Input}>\r\n      <label className={classes.Label}>{props.label}</label>\r\n      {inputElement}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default input;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport classes from \"./BurgerIngredient.module.css\";\r\n\r\nconst burgerIngredient = (props) => {\r\n  let ingredient = null;\r\n\r\n  switch (props.type) {\r\n    case \"bread-bottom\":\r\n      ingredient = <div className={classes.BreadBottom}></div>;\r\n      break;\r\n    case \"bread-top\":\r\n      ingredient = (\r\n        <div className={classes.BreadTop}>\r\n          <div className={classes.Seeds1}></div>\r\n          <div className={classes.Seeds2}></div>\r\n        </div>\r\n      );\r\n      break;\r\n    case \"meat\":\r\n      ingredient = <div className={classes.Meat}></div>;\r\n      break;\r\n    case \"cheese\":\r\n      ingredient = <div className={classes.Cheese}></div>;\r\n      break;\r\n    case \"salad\":\r\n      ingredient = <div className={classes.Salad}></div>;\r\n      break;\r\n    case \"bacon\":\r\n      ingredient = <div className={classes.Bacon}></div>;\r\n      break;\r\n    default:\r\n      ingredient = null;\r\n  }\r\n  return ingredient;\r\n};\r\n\r\nburgerIngredient.propTypes = {\r\n  type: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default burgerIngredient;\r\n","import React from \"react\";\r\nimport BurgerIngredient from \"./BurgerIngredient/BurgerIngredient\";\r\n\r\nimport classes from \"./Burger.module.css\";\r\n\r\nconst burger = (props) => {\r\n  if (!props.ingredients) return <p>something went wrong!</p>;\r\n  let transformedIngredients = Object.keys(props.ingredients)\r\n    .map((igKey) => {\r\n      return [...Array(props.ingredients[igKey])].map((_, i) => {\r\n        return <BurgerIngredient key={igKey + i} type={igKey} />;\r\n      });\r\n    })\r\n    .reduce((arr, el) => {\r\n      return arr.concat(el);\r\n    }, []);\r\n  // console.log(transformedIngredients);\r\n  if (transformedIngredients.length === 0) {\r\n    transformedIngredients = <p>Please start adding ingredients!</p>;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.Burger}>\r\n      <BurgerIngredient type=\"bread-top\" />\r\n      {transformedIngredients}\r\n      <BurgerIngredient type=\"bread-bottom\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default burger;\r\n","module.exports = __webpack_public_path__ + \"static/media/burger-logo.b8503d26.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Logo\":\"Logo_Logo__3QdQb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavigationItems\":\"NavigationItems_NavigationItems__lI7Jf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DrawerToggle\":\"DrawerToggle_DrawerToggle__325BM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__3JlaK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"Layout_Content__1w8-y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Burger\":\"Burger_Burger__mNUyC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__3PKhT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Spinner_Loader__1hoIP\",\"load2\":\"Spinner_load2__3jqLd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Auth\":\"Auth_Auth__1D9Bm\"};","import { put, delay } from \"redux-saga/effects\";\r\nimport axios from \"axios\";\r\nimport * as actions from \"../actions/index\";\r\n\r\nexport function* logoutSaga(action) {\r\n  yield localStorage.removeItem(\"token\");\r\n  yield localStorage.removeItem(\"exparationDate\");\r\n  yield localStorage.removeItem(\"userId\");\r\n  yield put(actions.logoutSuccess());\r\n}\r\n\r\nexport function* checkAuthTimeoutSaga(action) {\r\n  yield delay(action.expirationTime * 1000);\r\n  yield put(actions.logout());\r\n}\r\n\r\nexport function* authUserSaga(action) {\r\n  yield put(actions.authStart());\r\n  const authData = {\r\n    email: action.email,\r\n    password: action.password,\r\n    returnSecureToken: true,\r\n  };\r\n  let url =\r\n    \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAEybHw70mbZ8WFEkMj6beWNSnCFFHbknQ\";\r\n  if (!action.isSignUp) {\r\n    url =\r\n      \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAEybHw70mbZ8WFEkMj6beWNSnCFFHbknQ\";\r\n  }\r\n\r\n  try {\r\n    const response = yield axios.post(url, authData);\r\n    const exparationDate = new Date(\r\n      new Date().getTime() + response.data.expiresIn * 1000\r\n    );\r\n    yield localStorage.setItem(\"token\", response.data.idToken);\r\n    yield localStorage.setItem(\"exparationDate\", exparationDate);\r\n    yield localStorage.setItem(\"userId\", response.data.localId);\r\n\r\n    yield put(\r\n      actions.authSuccess(response.data.idToken, response.data.localId)\r\n    );\r\n    yield put(actions.checkAuthTimeout(response.data.expiresIn));\r\n  } catch (error) {\r\n    console.log(error);\r\n    yield put(actions.authFail(error.response.data.error));\r\n  }\r\n}\r\n\r\nexport function* authCheckStateSaga(action) {\r\n  const token = yield localStorage.getItem(\"token\");\r\n  if (!token) {\r\n    yield put(actions.logout());\r\n  } else {\r\n    const exparationDate = yield new Date(\r\n      localStorage.getItem(\"exparationDate\")\r\n    );\r\n    if (exparationDate > new Date()) {\r\n      const userId = yield localStorage.getItem(\"userId\");\r\n      yield put(actions.authSuccess(token, userId));\r\n      yield put(\r\n        actions.checkAuthTimeout(\r\n          (exparationDate.getTime() - new Date().getTime()) / 1000\r\n        )\r\n      );\r\n    } else {\r\n      actions.logout();\r\n    }\r\n  }\r\n}\r\n","import { put } from \"redux-saga/effects\";\r\nimport axios from \"../../axios-orders\";\r\nimport * as actions from \"../actions/index\";\r\n\r\nexport function* purchaseBurgerSaga(action) {\r\n  yield put(actions.purchaseBurgerStart());\r\n\r\n  try {\r\n    const response = yield axios.post(\r\n      \"/orders.json?auth=\" + action.token,\r\n      action.orderData\r\n    );\r\n    yield put(\r\n      actions.purchaseBurgerSuccess(response.data.name, action.orderData)\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n    yield put(actions.purchaseBurgerFail(error));\r\n  }\r\n}\r\n\r\nexport function* fetchOrdersSaga(action) {\r\n  yield put(actions.fetchOrdersStart());\r\n  const queryParams = `?auth=${action.token}&orderBy=\"userId\"&equalTo=\"${action.userId}\"`;\r\n\r\n  try {\r\n    const response = yield axios.get(\"orders.json\" + queryParams);\r\n    const fetchedOrders = [];\r\n    for (let key in response.data) {\r\n      fetchedOrders.push({\r\n        ...response.data[key],\r\n        id: key,\r\n      });\r\n    }\r\n    yield put(actions.fetchOrdersSuccess(fetchedOrders));\r\n  } catch (error) {\r\n    yield put(actions.fetchOrdersFail(error));\r\n  }\r\n}\r\n\r\nexport function* deleteOrderSaga(action) {\r\n  try {\r\n    yield axios.delete(`/orders/${action.orderId}.json?auth=${action.token}`);\r\n    yield put(actions.deleteOrderSuccess(action.orderId));\r\n  } catch (error) {\r\n    yield put(actions.deleteOrderFail(error));\r\n  }\r\n}\r\n","import { put } from \"redux-saga/effects\";\r\nimport axios from \"../../axios-orders\";\r\nimport * as actions from \"../actions/index\";\r\n\r\nexport function* initIngredients(action) {\r\n  try {\r\n    const response = yield axios.get(\r\n      \"https://react-my-burger-55769.firebaseio.com/ingredients.json\"\r\n    );\r\n    yield put(actions.setIngredients(response.data));\r\n  } catch (error) {\r\n    //! get request will always fail because firebase is deleted.\r\n    //! ingriedients are hardcoded now.\r\n    yield put(\r\n      actions.setIngredients({ salad: 0, bacon: 0, cheese: 0, meat: 0 })\r\n    );\r\n\r\n    // yield put(actions.fetchIngredientsFailed());\r\n  }\r\n}\r\n","//root saga\r\nimport { takeEvery } from \"redux-saga/effects\";\r\nimport * as authSagas from \"./auth\";\r\nimport * as orderSagas from \"./order\";\r\nimport { initIngredients } from \"./burgerBuilder\";\r\nimport * as actionTypes from \"../actions/actionTypes\";\r\n\r\nexport function* watchAuth() {\r\n  yield takeEvery(actionTypes.AUTH_INIT_LOGOUT, authSagas.logoutSaga);\r\n  yield takeEvery(\r\n    actionTypes.AUTH_CHECK_TIMEOUT,\r\n    authSagas.checkAuthTimeoutSaga\r\n  );\r\n  yield takeEvery(actionTypes.AUTH_USER, authSagas.authUserSaga);\r\n  yield takeEvery(actionTypes.AUTH_CHECK_STATE, authSagas.authCheckStateSaga);\r\n}\r\n\r\nexport function* watchBurgerBuilder() {\r\n  yield takeEvery(actionTypes.INIT_INGREDIENTS, initIngredients);\r\n}\r\n\r\nexport function* watchOrder() {\r\n  yield takeEvery(actionTypes.PURCHASE_BURGER, orderSagas.purchaseBurgerSaga);\r\n  yield takeEvery(actionTypes.FETCH_ORDERS, orderSagas.fetchOrdersSaga);\r\n  yield takeEvery(actionTypes.DELETE_ORDER, orderSagas.deleteOrderSaga);\r\n}\r\n","import React from \"react\";\r\nimport burgerLogo from \"../../assets/images/burger-logo.png\";\r\nimport classes from \"./Logo.module.css\";\r\n\r\nconst logo = (props) => (\r\n  <div className={classes.Logo} style={{ height: props.height }}>\r\n    <img src={burgerLogo} alt=\"MyBurger\" />\r\n  </div>\r\n);\r\n\r\nexport default logo;\r\n","import React from \"react\";\r\nimport classes from \"./NavigationItem.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst navigationItem = (props) => (\r\n  <li className={classes.NavigationItem}>\r\n    <NavLink\r\n      to={props.link}\r\n      exact={props.exact}\r\n      activeClassName={classes.active}\r\n    >\r\n      {props.children}\r\n    </NavLink>\r\n  </li>\r\n);\r\n\r\nexport default navigationItem;\r\n","import React from \"react\";\r\nimport NavigationItem from \"./NavigationItem/NavigationItem\";\r\nimport classes from \"./NavigationItems.module.css\";\r\n\r\nconst navigationItems = (props) => {\r\n  return (\r\n    <ul className={classes.NavigationItems}>\r\n      <NavigationItem link=\"/\" exact>\r\n        Burger Builder\r\n      </NavigationItem>\r\n      {props.isAuth ? (\r\n        <React.Fragment>\r\n          <NavigationItem link=\"/orders\">Orders</NavigationItem>\r\n          <NavigationItem link=\"/logout\">Logout</NavigationItem>\r\n        </React.Fragment>\r\n      ) : (\r\n        <NavigationItem link=\"/auth\">Log In</NavigationItem>\r\n      )}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default navigationItems;\r\n","import React from \"react\";\r\nimport classes from \"./DrawerToggle.module.css\";\r\n\r\nconst drawerToggle = (props) => (\r\n  <div className={classes.DrawerToggle} onClick={props.clicked}>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n  </div>\r\n);\r\n\r\nexport default drawerToggle;\r\n","import React from \"react\";\r\nimport Logo from \"../../Logo/Logo\";\r\nimport NavigationItems from \"../NavigationItems/NavigationItems\";\r\nimport DrawerToggle from \"../SideDrawer/DrawerToggle/DrawerToggle\";\r\nimport classes from \"./Toolbar.module.css\";\r\n\r\nconst toolbar = (props) => (\r\n  <header className={classes.Toolbar}>\r\n    <DrawerToggle clicked={props.toggleDrawer} />\r\n    <div className={classes.Logo}>\r\n      <Logo />\r\n    </div>\r\n    <nav className={classes.DesktopOnly}>\r\n      <NavigationItems isAuth={props.isAuth} />\r\n    </nav>\r\n  </header>\r\n);\r\n\r\nexport default toolbar;\r\n","import React from \"react\";\r\nimport Logo from \"../../Logo/Logo\";\r\nimport NavigationItems from \"../NavigationItems/NavigationItems\";\r\nimport Backdrop from \"../../UI/Backdrop/Backdrop\";\r\nimport Aux from \"../../../hoc/Auxilary/Auxilary\";\r\nimport classes from \"./SideDrawer.module.css\";\r\n\r\ninterface Props {\r\n  closed: () => void;\r\n  open: () => void;\r\n}\r\n\r\nconst SideDrawer = (props) => {\r\n  let attachedClasses = [classes.SideDrawer, classes.Close];\r\n  if (props.open) {\r\n    attachedClasses = [classes.SideDrawer, classes.Open];\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Backdrop show={props.open} clicked={props.closed} />\r\n      <div className={attachedClasses.join(\" \")} onClick={props.closed}>\r\n        <nav>\r\n          <NavigationItems isAuth={props.isAuth} />\r\n        </nav>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SideDrawer;\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Aux from \"../Auxilary/Auxilary\";\r\nimport Toolbar from \"../../components/Navigation/Toolbar/Toolbar\";\r\nimport SideDrawer from \"../../components/Navigation/SideDrawer/SideDrawer\";\r\nimport classes from \"./Layout.module.css\";\r\n\r\nconst Layout = (props) => {\r\n  const [sideDrawerIsVisible, setSideDrawerIsVisible] = useState(false);\r\n\r\n  const sideDrawerClosedHandler = () => {\r\n    setSideDrawerIsVisible(false);\r\n  };\r\n\r\n  const sideDrawerToggleHandler = () => {\r\n    setSideDrawerIsVisible(!sideDrawerIsVisible);\r\n  };\r\n\r\n  return (\r\n    <Aux>\r\n      <Toolbar\r\n        isAuth={props.isAuthenticated}\r\n        toggleDrawer={sideDrawerToggleHandler}\r\n      />\r\n      <SideDrawer\r\n        isAuth={props.isAuthenticated}\r\n        open={sideDrawerIsVisible}\r\n        closed={sideDrawerClosedHandler}\r\n      />\r\n      <main className={classes.Content}>{props.children}</main>\r\n    </Aux>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuthenticated: state.auth.token !== null,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Layout);\r\n","import React from \"react\";\r\nimport classes from \"./BuildControl.module.css\";\r\n\r\nconst buildControl = (props) => (\r\n  <div className={classes.BuildControl}>\r\n    <div className={classes.Label}>{props.label}</div>\r\n    <button\r\n      className={classes.Less}\r\n      onClick={props.removed}\r\n      disabled={props.disabled}\r\n    >\r\n      Less\r\n    </button>\r\n    <button className={classes.More} onClick={props.added}>\r\n      More\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default buildControl;\r\n","import React from \"react\";\r\nimport BuildControl from \"./BuildControl/BuildControl\";\r\nimport classes from \"./BuildControls.module.css\";\r\n\r\nconst controls = [\r\n  { label: \"Salad\", type: \"salad\" },\r\n  { label: \"Bacon\", type: \"bacon\" },\r\n  { label: \"Cheese\", type: \"cheese\" },\r\n  { label: \"Meat\", type: \"meat\" },\r\n];\r\n\r\nconst buildControls = (props) => (\r\n  <div className={classes.BuildControls}>\r\n    <p>\r\n      Current price: <strong>{props.price.toFixed(2)}</strong>\r\n    </p>\r\n    {controls.map((control) => (\r\n      <BuildControl\r\n        key={control.label}\r\n        label={control.label}\r\n        added={() => props.ingredientAdded(control.type)}\r\n        removed={() => props.ingredientRemoved(control.type)}\r\n        disabled={props.disabled[control.type]}\r\n      />\r\n    ))}\r\n    <button\r\n      className={classes.OrderButton}\r\n      disabled={!props.purchasable}\r\n      onClick={props.ordered}\r\n    >\r\n      {props.isAuth ? \"ORDER NOW\" : \"SIGN IN TO ORDER\"}\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default buildControls;\r\n","import React from \"react\";\r\nimport Aux from \"../../../hoc/Auxilary/Auxilary\";\r\nimport Button from \"../../UI/Button/Button\";\r\n\r\nconst orderSummary = (props) => {\r\n  const ingredientSummary = Object.keys(props.ingredients).map((igKey) => (\r\n    <li key={igKey}>\r\n      <span style={{ textTransform: \"capitalize\" }}>{igKey}</span>:{\" \"}\r\n      {props.ingredients[igKey]}\r\n    </li>\r\n  ));\r\n\r\n  return (\r\n    <Aux>\r\n      <h3>Your Order</h3>\r\n      <p>Delicious Burger with the following ingredients:</p>\r\n      <ul>{ingredientSummary}</ul>\r\n      <p>\r\n        <strong>Total Price: {props.price.toFixed(2)}</strong>\r\n      </p>\r\n      <p>Continue to checkout?</p>\r\n      <Button btnType=\"Danger\" clicked={props.purchaseCancelled}>\r\n        CANCEL\r\n      </Button>\r\n      <Button btnType=\"Success\" clicked={props.purchaseContinued}>\r\n        CONTINUE\r\n      </Button>\r\n    </Aux>\r\n  );\r\n};\r\n\r\nexport default orderSummary;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Aux from \"../../hoc/Auxilary/Auxilary\";\r\nimport Burger from \"../../components/Burger/Burger\";\r\nimport BuildControls from \"../../components/Burger/BuildControls/BuildControls\";\r\nimport Modal from \"../../components/UI/Modal/Modal\";\r\nimport OrderSummary from \"../../components/Burger/OrderSummary/OrderSummary\";\r\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\r\nimport withErrorHandler from \"../../hoc/withErrorHandler/withErrorHandler\";\r\nimport axios from \"../../axios-orders\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../store/actions/index\";\r\n\r\nexport const BurgerBuilder = (props) => {\r\n  const [purchasing, setPurchasing] = useState(false);\r\n\r\n  const { onInitIngredients } = props;\r\n\r\n  useEffect(() => {\r\n    onInitIngredients();\r\n  }, [onInitIngredients]);\r\n\r\n  const updatePurchaseState = (ingredients) => {\r\n    return Object.values(ingredients).some((amount) => amount > 0);\r\n  };\r\n\r\n  const purchaseHandler = () => {\r\n    if (props.isAuthenticated) {\r\n      setPurchasing(true);\r\n    } else {\r\n      props.onSetAuthRedirectPath(\"/checkout\");\r\n      props.history.push(\"/auth\");\r\n    }\r\n  };\r\n\r\n  const purchaseCancelHandler = () => {\r\n    setPurchasing(false);\r\n  };\r\n\r\n  const purchaseContinueHandler = () => {\r\n    props.onInitPurchase();\r\n    props.history.push({\r\n      pathname: \"/checkout\",\r\n    });\r\n  };\r\n\r\n  const disabledInfo = {\r\n    ...props.ingredients,\r\n  };\r\n  for (let key in disabledInfo) {\r\n    disabledInfo[key] = disabledInfo[key] <= 0;\r\n  }\r\n  let orderSummary = null;\r\n\r\n  let burger = props.error ? <p>Ingredients can't be loaded!</p> : <Spinner />;\r\n  if (props.ingredients) {\r\n    burger = (\r\n      <Aux>\r\n        <Burger ingredients={props.ingredients} />\r\n        <BuildControls\r\n          price={props.totalPrice}\r\n          ingredientAdded={props.onAddIngredient}\r\n          ingredientRemoved={props.onRemoveIngredient}\r\n          disabled={disabledInfo}\r\n          purchasable={updatePurchaseState(props.ingredients)}\r\n          isAuth={props.isAuthenticated}\r\n          ordered={purchaseHandler}\r\n        />\r\n      </Aux>\r\n    );\r\n    orderSummary = (\r\n      <OrderSummary\r\n        ingredients={props.ingredients}\r\n        price={props.totalPrice}\r\n        purchaseCancelled={purchaseCancelHandler}\r\n        purchaseContinued={purchaseContinueHandler}\r\n      />\r\n    );\r\n  }\r\n  return (\r\n    <Aux>\r\n      <Modal show={purchasing} modalClosed={purchaseCancelHandler}>\r\n        {orderSummary}\r\n      </Modal>\r\n      {burger}\r\n    </Aux>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    ingredients: state.burgerBuilder.ingredients,\r\n    totalPrice: state.burgerBuilder.totalPrice,\r\n    error: state.burgerBuildererror,\r\n    isAuthenticated: state.auth.token !== null,\r\n    building: state.burgerBuilder.building,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onAddIngredient: (ingredientName) =>\r\n      dispatch(actions.addIngredient(ingredientName)),\r\n    onRemoveIngredient: (ingredientName) =>\r\n      dispatch(actions.removeIngredient(ingredientName)),\r\n    onInitIngredients: () => dispatch(actions.initIngredients()),\r\n    onInitPurchase: () => dispatch(actions.purchaseInit()),\r\n    onSetAuthRedirectPath: (path) =>\r\n      dispatch(actions.setAuthRedirectPath(path)),\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withErrorHandler(BurgerBuilder, axios));\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport Button from \"../../components/UI/Button/Button\";\r\nimport Input from \"../../components/UI/Input/Input\";\r\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\r\nimport * as actions from \"../../store/actions/index\";\r\nimport { updateObject, checkValidity } from \"../../shared/utility\";\r\nimport classes from \"./Auth.module.css\";\r\n\r\nconst Auth = (props) => {\r\n  const [controls, setControls] = useState({\r\n    email: {\r\n      label: \"E-mail\",\r\n      elementType: \"input\",\r\n      elementConfig: {\r\n        type: \"email\",\r\n        placeholder: \"E-mail\",\r\n      },\r\n      value: \"\",\r\n      validation: {\r\n        required: true,\r\n        isEmail: true,\r\n      },\r\n      valid: false,\r\n      touched: false,\r\n    },\r\n    password: {\r\n      label: \"Password\",\r\n      elementType: \"input\",\r\n      elementConfig: {\r\n        type: \"password\",\r\n        placeholder: \"Password\",\r\n      },\r\n      value: \"\",\r\n      validation: {\r\n        required: true,\r\n        minLength: 6,\r\n      },\r\n      valid: false,\r\n      touched: false,\r\n    },\r\n  });\r\n  const [isSignUp, setIsSignUp] = useState(false);\r\n  const { buildingBurger, authRedirectPath, onSetAuthRedirectPath } = props;\r\n\r\n  useEffect(() => {\r\n    if (!buildingBurger && authRedirectPath !== \"/\") {\r\n      onSetAuthRedirectPath(\"/\");\r\n    }\r\n  }, [buildingBurger, authRedirectPath, onSetAuthRedirectPath]);\r\n\r\n  const inputChangedHandler = (event, controlName) => {\r\n    const updatedControls = updateObject(controls, {\r\n      [controlName]: updateObject(controls[controlName], {\r\n        value: event.target.value,\r\n        valid: checkValidity(\r\n          event.target.value,\r\n          controls[controlName].validation\r\n        ),\r\n        touched: true,\r\n      }),\r\n    });\r\n    setControls(updatedControls);\r\n  };\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n    props.onAuth(controls.email.value, controls.password.value, isSignUp);\r\n  };\r\n\r\n  const switchAuthModeHandler = () => {\r\n    setIsSignUp(!isSignUp);\r\n  };\r\n\r\n  const formElementsArray = [];\r\n  for (let key in controls) {\r\n    formElementsArray.push({\r\n      id: key,\r\n      config: controls[key],\r\n    });\r\n  }\r\n\r\n  let form = formElementsArray.map((element) => (\r\n    <Input\r\n      key={element.id}\r\n      label={element.config.label}\r\n      inputType={element.config.elementType}\r\n      elementConfig={element.config.elementConfig}\r\n      value={element.config.value}\r\n      invalid={!element.config.valid}\r\n      shouldValidate={element.config.validation}\r\n      touched={element.config.touched}\r\n      changed={(event) => inputChangedHandler(event, element.id)}\r\n    />\r\n  ));\r\n\r\n  if (props.loading) {\r\n    form = <Spinner />;\r\n  }\r\n\r\n  let authRedirect = null;\r\n  if (props.isAuthenticated) {\r\n    authRedirect = <Redirect to={props.authRedirectPath} />;\r\n  }\r\n\r\n  let errorMessage = null;\r\n  if (props.error) {\r\n    errorMessage = <p style={{ color: \"red\" }}>{props.error.message}</p>;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.Auth}>\r\n      {authRedirect}\r\n      <form onSubmit={submitHandler}>\r\n        {form}\r\n        <Button btnType=\"Success\">{isSignUp ? \"Sign Up\" : \"Sign In\"}</Button>\r\n      </form>\r\n      <Button btnType=\"Danger\" clicked={switchAuthModeHandler}>{`Switch to ${\r\n        isSignUp ? \"Sign In\" : \"Sign Up\"\r\n      } `}</Button>\r\n      {errorMessage}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loading: state.auth.loading,\r\n    error: state.auth.error,\r\n    isAuthenticated: state.auth.token !== null,\r\n    buildingBurger: state.burgerBuilder.building,\r\n    authRedirectPath: state.auth.authRedirectPath,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onAuth: (email, password, isSignUp) =>\r\n      dispatch(actions.auth(email, password, isSignUp)),\r\n    onSetAuthRedirectPath: (path) =>\r\n      dispatch(actions.setAuthRedirectPath(path)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Auth);\r\n","import React, { useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../../store/actions/index\";\r\n\r\nconst Logout = (props) => {\r\n  const { onLogout } = props;\r\n  useEffect(() => {\r\n    onLogout();\r\n  }, [onLogout]);\r\n\r\n  return <Redirect to=\"/\" />;\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onLogout: () => dispatch(actions.logout()),\r\n  };\r\n};\r\nexport default connect(null, mapDispatchToProps)(Logout);\r\n","import React, { useEffect, Suspense, lazy } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Layout from \"./hoc/Layout/Layout\";\nimport BurgerBuilder from \"./containers/BurgerBuilder/BurgerBuilder\";\nimport Spinner from \"./components/UI/Spinner/Spinner\";\n// import Checkout from \"./containers/Chekout/Chekout\";\n// import Orders from \"./containers/Orders/Orders\";\nimport Auth from \"./containers/Auth/Auth\";\nimport Logout from \"./containers/Auth/Logout/Logout\";\nimport * as actions from \"./store/actions/index\";\nconst Checkout = lazy(() => import(\"./containers/Chekout/Chekout\"));\nconst Orders = lazy(() => import(\"./containers/Orders/Orders\"));\n// const Auth = lazy(() => import(\"./containers/Auth/Auth\"));\n// const Logout = lazy(() => import(\"./containers/Auth/Logout/Logout\"));\n\nconst App = (props) => {\n  const { onTryAutoSignIn } = props;\n  useEffect(() => {\n    onTryAutoSignIn();\n  }, [onTryAutoSignIn]);\n  let routes = (\n    <Switch>\n      <Route path=\"/auth\" component={Auth} />\n      <Route path=\"/\" exact component={BurgerBuilder} />\n      <Redirect to=\"/\" />\n    </Switch>\n  );\n  if (props.isAuthenticated) {\n    routes = (\n      <Switch>\n        <Route path=\"/checkout\" component={Checkout} />\n        <Route path=\"/orders\" component={Orders} />\n        <Route path=\"/logout\" component={Logout} />\n        <Route path=\"/auth\" component={Auth} />\n        <Route path=\"/\" exact component={BurgerBuilder} />\n        <Redirect to=\"/\" />\n      </Switch>\n    );\n  }\n\n  return (\n    <div>\n      <Layout>\n        <Suspense fallback={<Spinner />}>{routes}</Suspense>\n      </Layout>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuthenticated: state.auth.token !== null,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onTryAutoSignIn: () => dispatch(actions.authCheckState()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as actionTypes from \"../actions/actionTypes\";\r\nimport { updateObject } from \"../../shared/utility\";\r\n\r\nconst initialState = {\r\n  ingredients: null,\r\n  totalPrice: 4,\r\n  error: false,\r\n  building: false,\r\n};\r\n\r\nconst INGREDIENT_PRICES = {\r\n  salad: 0.5,\r\n  cheese: 0.4,\r\n  meat: 1.3,\r\n  bacon: 0.7,\r\n};\r\n\r\nconst addIngredient = (state, action) => {\r\n  const updatedIngredient = {\r\n    [action.ingredientName]: state.ingredients[action.ingredientName] + 1,\r\n  };\r\n  const updatedIngredients = updateObject(state.ingredients, updatedIngredient);\r\n  const updatedState = {\r\n    ingredients: updatedIngredients,\r\n    totalPrice: state.totalPrice + INGREDIENT_PRICES[action.ingredientName],\r\n    building: true,\r\n  };\r\n  return updateObject(state, updatedState);\r\n};\r\n\r\nconst removeIngredient = (state, action) => {\r\n  const updatedIngredient = {\r\n    [action.ingredientName]: state.ingredients[action.ingredientName] - 1,\r\n  };\r\n  const updatedIngredients = updateObject(state.ingredients, updatedIngredient);\r\n  const updatedState = {\r\n    ingredients: updatedIngredients,\r\n    totalPrice: state.totalPrice - INGREDIENT_PRICES[action.ingredientName],\r\n    building: true,\r\n  };\r\n  return updateObject(state, updatedState);\r\n};\r\n\r\nconst setIngredients = (state, action) => {\r\n  return updateObject(state, {\r\n    ingredients: {\r\n      // galima action.ingredients, bet pakeista kad butu tinkama tvarka, nes kitaip\r\n      //buna alfabetine del firebase\r\n      salad: action.ingredients.salad,\r\n      bacon: action.ingredients.bacon,\r\n      cheese: action.ingredients.cheese,\r\n      meat: action.ingredients.meat,\r\n    },\r\n    totalPrice: 4,\r\n    error: false,\r\n    building: false,\r\n  });\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.ADD_INGREDIENT:\r\n      return addIngredient(state, action);\r\n    case actionTypes.REMOVE_INGREDIENT:\r\n      return removeIngredient(state, action);\r\n    case actionTypes.SET_INGREDIENTS:\r\n      return setIngredients(state, action);\r\n    case actionTypes.FETCH_INGREDIENTS_FAILED:\r\n      return updateObject(state, { error: true });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\nimport { updateObject } from \"../../shared/utility\";\r\n\r\nconst initialState = {\r\n  orders: [],\r\n  loading: false,\r\n  purchased: false,\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.PURCHASE_BURGER_SUCCESS:\r\n      const newOrder = {\r\n        ...action.orderData,\r\n        id: action.orderId,\r\n      };\r\n      const updatedProperties = {\r\n        loading: false,\r\n        purchased: true,\r\n        orders: state.orders.concat(newOrder),\r\n      };\r\n      return updateObject(state, updatedProperties);\r\n\r\n    case actionTypes.PURCHASE_BURGER_FAIL:\r\n      return updateObject(state, { loading: false });\r\n\r\n    case actionTypes.PURCHASE_BURGER_START:\r\n      return updateObject(state, { loading: true });\r\n\r\n    case actionTypes.PURCHASE_INIT:\r\n      return updateObject(state, { purchased: false });\r\n    case actionTypes.FETCH_ORDERS_START:\r\n      return updateObject(state, { loading: true });\r\n    case actionTypes.FETCH_ORDERS_SUCCESS:\r\n      return updateObject(state, {\r\n        loading: false,\r\n        orders: action.orders,\r\n      });\r\n    case actionTypes.FETCH_ORDERS_FAIL:\r\n      return updateObject(state, { loading: false });\r\n    case actionTypes.DELETE_ORDER_SUCCESS:\r\n      const newOrders = state.orders.filter(\r\n        (order) => order.id !== action.orderId\r\n      );\r\n      return updateObject(state, { orders: newOrders });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\nimport { updateObject } from \"../../shared/utility\";\r\n\r\nconst initialState = {\r\n  token: null,\r\n  userId: null,\r\n  error: null,\r\n  loading: false,\r\n  authRedirectPath: \"/\",\r\n};\r\n\r\nconst authStart = (state, action) => {\r\n  return updateObject(state, { error: null, loading: true });\r\n};\r\n\r\nconst authSuccess = (state, action) => {\r\n  const updatedState = {\r\n    token: action.idToken,\r\n    userId: action.userId,\r\n    error: null,\r\n    loading: false,\r\n  };\r\n  return updateObject(state, updatedState);\r\n};\r\n\r\nconst authFail = (state, action) => {\r\n  return updateObject(state, { error: action.error, loading: false });\r\n};\r\n\r\nconst authLogout = (state, action) => {\r\n  return updateObject(state, { token: null, userId: null });\r\n};\r\n\r\nconst setAuthRedirectPath = (state, action) => {\r\n  return updateObject(state, { authRedirectPath: action.path });\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.AUTH_START:\r\n      return authStart(state, action);\r\n    case actionTypes.AUTH_SUCCESS:\r\n      return authSuccess(state, action);\r\n    case actionTypes.AUTH_FAIL:\r\n      return authFail(state, action);\r\n    case actionTypes.AUTH_LOGOUT:\r\n      return authLogout(state, action);\r\n    case actionTypes.SET_AUTH_REDIRECT_PATH:\r\n      return setAuthRedirectPath(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { createStore, applyMiddleware, compose, combineReducers } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport { watchAuth, watchBurgerBuilder, watchOrder } from \"./store/sagas/index\";\r\n\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport burgerBuilderReducer from \"./store/reducers/burgerBuilder\";\r\nimport orderReducer from \"./store/reducers/order\";\r\nimport authReducer from \"./store/reducers/auth\";\r\n\r\n// const composeEnhancers =\r\n//   process.env.NODE_ENV === \"development\"\r\n//     ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n//     : null || compose;\r\nconst composeEnhancers =\r\n  (process.env.NODE_ENV === \"development\" &&\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\r\n  compose;\r\n\r\nconst rootReducer = combineReducers({\r\n  burgerBuilder: burgerBuilderReducer,\r\n  order: orderReducer,\r\n  auth: authReducer,\r\n});\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk, sagaMiddleware))\r\n);\r\n\r\nsagaMiddleware.run(watchAuth);\r\nsagaMiddleware.run(watchBurgerBuilder);\r\nsagaMiddleware.run(watchOrder);\r\n\r\nconst app = (\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}