(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[0],[,,function(e,t,n){"use strict";n.d(t,"r",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"x",(function(){return c})),n.d(t,"z",(function(){return u})),n.d(t,"m",(function(){return o})),n.d(t,"s",(function(){return i})),n.d(t,"u",(function(){return l})),n.d(t,"v",(function(){return s})),n.d(t,"t",(function(){return d})),n.d(t,"w",(function(){return f})),n.d(t,"n",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return p})),n.d(t,"o",(function(){return g})),n.d(t,"j",(function(){return h})),n.d(t,"l",(function(){return E})),n.d(t,"k",(function(){return v})),n.d(t,"i",(function(){return _})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return j})),n.d(t,"d",(function(){return I})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return x})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return S})),n.d(t,"y",(function(){return w}));var r="INIT_INGREDIENTS",a="ADD_INGREDIENT",c="REMOVE_INGREDIENT",u="SET_INGREDIENTS",o="FETCH_INGREDIENTS_FAILED",i="PURCHASE_BURGER",l="PURCHASE_BURGER_START",s="PURCHASE_BURGER_SUCCESS",d="PURCHASE_BURGER_FAIL",f="PURCHASE INIT",m="FETCH_ORDERS",b="FETCH_ORDERS_START",p="FETCH_ORDERS_SUCCESS",g="FETCH_ORDERS_FAIL",h="DELETE_ORDER",E="DELETE_ORDER_SUCCESS",v="DELETE_ORDER_FAIL",_="AUTH_USER",O="AUTH_START",j="AUTH_SUCCESS",I="AUTH_FAIL",k="AUTH_CHECK_STATE",x="AUTH_CHECK_TIMEOUT",y="AUTH_INIT_LOGOUT",S="AUTH_LOGOUT",w="SET_AUTH_REDIRECT_PATH"},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"v",(function(){return c})),n.d(t,"o",(function(){return o})),n.d(t,"x",(function(){return u})),n.d(t,"s",(function(){return i.j})),n.d(t,"u",(function(){return i.l})),n.d(t,"k",(function(){return i.d})),n.d(t,"h",(function(){return i.a})),n.d(t,"t",(function(){return i.k})),n.d(t,"r",(function(){return i.i})),n.d(t,"l",(function(){return i.e})),n.d(t,"m",(function(){return i.f})),n.d(t,"n",(function(){return i.g})),n.d(t,"i",(function(){return i.b})),n.d(t,"j",(function(){return i.c})),n.d(t,"b",(function(){return p})),n.d(t,"p",(function(){return f})),n.d(t,"w",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"q",(function(){return m})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return b})),n.d(t,"d",(function(){return d}));var r=n(2),a=function(e){return{type:r.a,ingredientName:e}},c=function(e){return{type:r.x,ingredientName:e}},u=function(e){return{type:r.z,ingredients:e}},o=function(){return{type:r.r}},i=n(12),l=function(){return{type:r.g}},s=function(e,t){return{type:r.h,idToken:e,userId:t}},d=function(e){return{type:r.d,error:e}},f=function(){return{type:r.e}},m=function(){return{type:r.f}},b=function(e){return{type:r.c,expirationTime:e}},p=function(e,t,n){return{type:r.i,email:e,password:t,isSignUp:n}},g=function(e){return{type:r.y,path:e}},h=function(){return{type:r.b}}},,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n(20),a=function(e,t){return Object(r.a)(Object(r.a)({},e),t)},c=function(e,t){if(t){var n=!0;if(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),t.isEmail){n=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&n}if(t.isNumeric){n=/^\d+$/.test(e)&&n}return n}}},,,,function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"j",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"i",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p}));var r=n(2),a=function(e,t){return{type:r.s,orderData:e,token:t}},c=function(){return{type:r.u}},u=function(e,t){return{type:r.v,orderId:e,orderData:t}},o=function(e){return{type:r.t,error:e}},i=function(){return{type:r.w}},l=function(e){return{type:r.q,orders:e}},s=function(e){return{type:r.o,error:e}},d=function(){return{type:r.p}},f=function(e,t){return{type:r.n,token:e,userId:t}},m=function(e){return{type:r.l,orderId:e}},b=function(e){return{type:r.k,error:e}},p=function(e,t){return{type:r.j,orderId:e,token:t}}},,,,,function(e,t,n){"use strict";t.a=function(e){return e.children}},,,,,function(e,t,n){e.exports={BreadBottom:"BurgerIngredient_BreadBottom__WwZ4j",BreadTop:"BurgerIngredient_BreadTop__1M2Sa",Seeds1:"BurgerIngredient_Seeds1__1oZ4R",Seeds2:"BurgerIngredient_Seeds2__sSjeN",Meat:"BurgerIngredient_Meat__sq71H",Cheese:"BurgerIngredient_Cheese__31aye",Salad:"BurgerIngredient_Salad__1McI7",Bacon:"BurgerIngredient_Bacon__1Mzsk"}},function(e,t,n){"use strict";var r=n(37),a=n.n(r).a.create({baseURL:"https://react-my-burger-55769.firebaseio.com/"});t.a=a},,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(48),u=n.n(c);t.a=function(e){return a.a.createElement("button",{disabled:e.disabled,className:[u.a.Button,u.a[e.btnType]].join(" "),onClick:e.clicked},e.children)}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(72),u=n.n(c);t.a=function(){return a.a.createElement("div",{className:u.a.Loader},"Loading...")}},,,,function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__1M9Ch",Open:"SideDrawer_Open__3FC57",Close:"SideDrawer_Close__DqL4T",Logo:"SideDrawer_Logo__2KOUs"}},function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__33SUO",Label:"BuildControl_Label__TdA75",Less:"BuildControl_Less__28-lV",More:"BuildControl_More__jrIEM"}},function(e,t,n){e.exports={Input:"Input_Input__N4LUF",Label:"Input_Label__NwG3W",InputElement:"Input_InputElement__2wQ99",Invalid:"Input_Invalid__2fNjx"}},,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(68),u=n.n(c);t.a=function(e){return e.show?a.a.createElement("div",{className:u.a.Backdrop,onClick:e.clicked}):null}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(17),u=n(39),o=n(71),i=n.n(o);t.a=a.a.memo((function(e){return a.a.createElement(c.a,null,a.a.createElement(u.a,{show:e.show,clicked:e.modalClosed}),a.a.createElement("div",{className:i.a.Modal,style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"}},e.children))}),(function(e,t){return e.show===t.show&&e.children===t.children}))},function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__h8PGA",Logo:"Toolbar_Logo__1blXe",DesktopOnly:"Toolbar_DesktopOnly__b8nuK"}},,,function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__MFqq6",active:"NavigationItem_active__E3vUP"}},,,function(e,t,n){e.exports={BuildControls:"BuildControls_BuildControls__1JSIF",OrderButton:"BuildControls_OrderButton__2Psfc",enable:"BuildControls_enable__3kqw5"}},function(e,t,n){e.exports={Button:"Button_Button__10Hzl",Success:"Button_Success__PCY5l",Danger:"Button_Danger__2PZZL"}},function(e,t,n){"use strict";var r=n(19),a=n(0),c=n.n(a),u=n(40),o=n(17);t.a=function(e,t){return function(n){var i=function(e){var t=Object(a.useState)(),n=Object(r.a)(t,2),c=n[0],u=n[1],o=e.interceptors.request.use((function(e){return u(null),e})),i=e.interceptors.response.use((function(e){return e}),(function(e){u(e)}));Object(a.useEffect)((function(){return function(){e.interceptors.response.eject(i),e.interceptors.request.eject(o)}}),[i,o,e]);return[c,function(){u(null)}]}(t),l=Object(r.a)(i,2),s=l[0],d=l[1];return c.a.createElement(o.a,null,c.a.createElement(u.a,{show:s,modalClosed:d},s?s.message:null),c.a.createElement(e,n))}}},,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(33),u=n.n(c);t.a=function(e){var t=null,n=[u.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&n.push(u.a.Invalid),e.inputType){case"input":t=a.a.createElement("input",Object.assign({onChange:e.changed,className:n.join(" ")},e.elementConfig,{value:e.value}));break;case"textarea":t=a.a.createElement("textarea",Object.assign({onChange:e.changed,className:n.join(" ")},e.elementConfig,{value:e.value}));break;case"select":t=a.a.createElement("select",{className:n.join(" "),onChange:e.changed,value:e.value},e.elementConfig.options.map((function(e){return a.a.createElement("option",{key:e.value,value:e.value},e.displayValue)})));break;default:t=a.a.createElement("input",Object.assign({className:n.join(" "),onChange:e.changed},e.elementConfig,{value:e.value}))}return a.a.createElement("div",{className:u.a.Input},a.a.createElement("label",{className:u.a.Label},e.label),t)}},function(e,t,n){"use strict";var r=n(74),a=n(0),c=n.n(a),u=n(22),o=n.n(u),i=function(e){var t=null;switch(e.type){case"bread-bottom":t=c.a.createElement("div",{className:o.a.BreadBottom});break;case"bread-top":t=c.a.createElement("div",{className:o.a.BreadTop},c.a.createElement("div",{className:o.a.Seeds1}),c.a.createElement("div",{className:o.a.Seeds2}));break;case"meat":t=c.a.createElement("div",{className:o.a.Meat});break;case"cheese":t=c.a.createElement("div",{className:o.a.Cheese});break;case"salad":t=c.a.createElement("div",{className:o.a.Salad});break;case"bacon":t=c.a.createElement("div",{className:o.a.Bacon});break;default:t=null}return t},l=n(70),s=n.n(l);t.a=function(e){if(!e.ingredients)return c.a.createElement("p",null,"something went wrong!");var t=Object.keys(e.ingredients).map((function(t){return Object(r.a)(Array(e.ingredients[t])).map((function(e,n){return c.a.createElement(i,{key:t+n,type:t})}))})).reduce((function(e,t){return e.concat(t)}),[]);return 0===t.length&&(t=c.a.createElement("p",null,"Please start adding ingredients!")),c.a.createElement("div",{className:s.a.Burger},c.a.createElement(i,{type:"bread-top"}),t,c.a.createElement(i,{type:"bread-bottom"}))}},,,function(e,t,n){e.exports=n.p+"static/media/burger-logo.b8503d26.png"},function(e,t,n){e.exports={Logo:"Logo_Logo__3QdQb"}},function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__lI7Jf"}},function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__325BM"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3JlaK"}},function(e,t,n){e.exports={Content:"Layout_Content__1w8-y"}},function(e,t,n){e.exports={Burger:"Burger_Burger__mNUyC"}},function(e,t,n){e.exports={Modal:"Modal_Modal__3PKhT"}},function(e,t,n){e.exports={Loader:"Spinner_Loader__1hoIP",load2:"Spinner_load2__3jqLd"}},function(e,t,n){e.exports={Auth:"Auth_Auth__1D9Bm"}},,,function(e,t,n){e.exports=n(105)},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(34),u=n.n(c),o=n(21),i=n(16),l=n(63),s=n(75),d=n(9),f=n.n(d),m=n(7),b=n(37),p=n.n(b),g=n(4),h=f.a.mark(O),E=f.a.mark(j),v=f.a.mark(I),_=f.a.mark(k);function O(e){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.removeItem("token");case 2:return e.next=4,localStorage.removeItem("exparationDate");case 4:return e.next=6,localStorage.removeItem("userId");case 6:return e.next=8,Object(m.b)(g.q());case 8:case"end":return e.stop()}}),h)}function j(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.a)(1e3*e.expirationTime);case 2:return t.next=4,Object(m.b)(g.p());case 4:case"end":return t.stop()}}),E)}function I(e){var t,n,r,a;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(m.b)(g.e());case 2:return t={email:e.email,password:e.password,returnSecureToken:!0},n="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAEybHw70mbZ8WFEkMj6beWNSnCFFHbknQ",e.isSignUp||(n="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAEybHw70mbZ8WFEkMj6beWNSnCFFHbknQ"),c.prev=5,c.next=8,p.a.post(n,t);case 8:return r=c.sent,a=new Date((new Date).getTime()+1e3*r.data.expiresIn),c.next=12,localStorage.setItem("token",r.data.idToken);case 12:return c.next=14,localStorage.setItem("exparationDate",a);case 14:return c.next=16,localStorage.setItem("userId",r.data.localId);case 16:return c.next=18,Object(m.b)(g.f(r.data.idToken,r.data.localId));case 18:return c.next=20,Object(m.b)(g.g(r.data.expiresIn));case 20:c.next=27;break;case 22:return c.prev=22,c.t0=c.catch(5),console.log(c.t0),c.next=27,Object(m.b)(g.d(c.t0.response.data.error));case 27:case"end":return c.stop()}}),v,null,[[5,22]])}function k(e){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:if(t=e.sent){e.next=8;break}return e.next=6,Object(m.b)(g.p());case 6:e.next=22;break;case 8:return e.next=10,new Date(localStorage.getItem("exparationDate"));case 10:if(!((n=e.sent)>new Date)){e.next=21;break}return e.next=14,localStorage.getItem("userId");case 14:return r=e.sent,e.next=17,Object(m.b)(g.f(t,r));case 17:return e.next=19,Object(m.b)(g.g((n.getTime()-(new Date).getTime())/1e3));case 19:e.next=22;break;case 21:g.p();case 22:case"end":return e.stop()}}),_)}var x=n(20),y=n(23),S=f.a.mark(T),w=f.a.mark(N),C=f.a.mark(B);function T(e){var t;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(m.b)(g.s());case 2:return n.prev=2,n.next=5,y.a.post("/orders.json?auth="+e.token,e.orderData);case 5:return t=n.sent,n.next=8,Object(m.b)(g.t(t.data.name,e.orderData));case 8:n.next=15;break;case 10:return n.prev=10,n.t0=n.catch(2),console.log(n.t0),n.next=15,Object(m.b)(g.r(n.t0));case 15:case"end":return n.stop()}}),S,null,[[2,10]])}function N(e){var t,n,r,a;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(m.b)(g.m());case 2:return t="?auth=".concat(e.token,'&orderBy="userId"&equalTo="').concat(e.userId,'"'),c.prev=3,c.next=6,y.a.get("orders.json"+t);case 6:for(a in n=c.sent,r=[],n.data)r.push(Object(x.a)(Object(x.a)({},n.data[a]),{},{id:a}));return c.next=11,Object(m.b)(g.n(r));case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(3),c.next=17,Object(m.b)(g.l(c.t0));case 17:case"end":return c.stop()}}),w,null,[[3,13]])}function B(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.a.delete("/orders/".concat(e.orderId,".json?auth=").concat(e.token));case 3:return t.next=5,Object(m.b)(g.j(e.orderId));case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(m.b)(g.i(t.t0));case 11:case"end":return t.stop()}}),C,null,[[0,7]])}var A=f.a.mark(D);function D(e){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("https://react-my-burger-55769.firebaseio.com/ingredients.json");case 3:return t=e.sent,e.next=6,Object(m.b)(g.x(t.data));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(m.b)(g.x({salad:0,bacon:0,cheese:0,meat:0}));case 12:case"end":return e.stop()}}),A,null,[[0,8]])}var R=n(2),L=f.a.mark(H),P=f.a.mark(F),U=f.a.mark(M);function H(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.c)(R.e,O);case 2:return e.next=4,Object(m.c)(R.c,j);case 4:return e.next=6,Object(m.c)(R.i,I);case 6:return e.next=8,Object(m.c)(R.b,k);case 8:case"end":return e.stop()}}),L)}function F(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.c)(R.r,D);case 2:case"end":return e.stop()}}),P)}function M(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.c)(R.s,T);case 2:return e.next=4,Object(m.c)(R.n,N);case 4:return e.next=6,Object(m.c)(R.j,B);case 6:case"end":return e.stop()}}),U)}n(103);var z=n(10),q=n(19),G=n(17),W=n(64),K=n.n(W),Z=n(65),J=n.n(Z),Q=function(e){return a.a.createElement("div",{className:J.a.Logo,style:{height:e.height}},a.a.createElement("img",{src:K.a,alt:"MyBurger"}))},V=n(44),Y=n.n(V),$=n(24),X=function(e){return a.a.createElement("li",{className:Y.a.NavigationItem},a.a.createElement($.b,{to:e.link,exact:e.exact,activeClassName:Y.a.active},e.children))},ee=n(66),te=n.n(ee),ne=function(e){return a.a.createElement("ul",{className:te.a.NavigationItems},a.a.createElement(X,{link:"/",exact:!0},"Burger Builder"),e.isAuth?a.a.createElement(a.a.Fragment,null,a.a.createElement(X,{link:"/orders"},"Orders"),a.a.createElement(X,{link:"/logout"},"Logout")):a.a.createElement(X,{link:"/auth"},"Log In"))},re=n(67),ae=n.n(re),ce=function(e){return a.a.createElement("div",{className:ae.a.DrawerToggle,onClick:e.clicked},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))},ue=n(41),oe=n.n(ue),ie=function(e){return a.a.createElement("header",{className:oe.a.Toolbar},a.a.createElement(ce,{clicked:e.toggleDrawer}),a.a.createElement("div",{className:oe.a.Logo},a.a.createElement(Q,null)),a.a.createElement("nav",{className:oe.a.DesktopOnly},a.a.createElement(ne,{isAuth:e.isAuth})))},le=n(39),se=n(31),de=n.n(se),fe=function(e){var t=[de.a.SideDrawer,de.a.Close];return e.open&&(t=[de.a.SideDrawer,de.a.Open]),a.a.createElement(a.a.Fragment,null,a.a.createElement(le.a,{show:e.open,clicked:e.closed}),a.a.createElement("div",{className:t.join(" "),onClick:e.closed},a.a.createElement("nav",null,a.a.createElement(ne,{isAuth:e.isAuth}))))},me=n(69),be=n.n(me),pe=Object(i.b)((function(e){return{isAuthenticated:null!==e.auth.token}}))((function(e){var t=Object(r.useState)(!1),n=Object(q.a)(t,2),c=n[0],u=n[1];return a.a.createElement(G.a,null,a.a.createElement(ie,{isAuth:e.isAuthenticated,toggleDrawer:function(){u(!c)}}),a.a.createElement(fe,{isAuth:e.isAuthenticated,open:c,closed:function(){u(!1)}}),a.a.createElement("main",{className:be.a.Content},e.children))})),ge=n(61),he=n(32),Ee=n.n(he),ve=function(e){return a.a.createElement("div",{className:Ee.a.BuildControl},a.a.createElement("div",{className:Ee.a.Label},e.label),a.a.createElement("button",{className:Ee.a.Less,onClick:e.removed,disabled:e.disabled},"Less"),a.a.createElement("button",{className:Ee.a.More,onClick:e.added},"More"))},_e=n(47),Oe=n.n(_e),je=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}],Ie=function(e){return a.a.createElement("div",{className:Oe.a.BuildControls},a.a.createElement("p",null,"Current price: ",a.a.createElement("strong",null,e.price.toFixed(2)),"\u20ac"),je.map((function(t){return a.a.createElement(ve,{key:t.label,label:t.label,added:function(){return e.ingredientAdded(t.type)},removed:function(){return e.ingredientRemoved(t.type)},disabled:e.disabled[t.type]})})),a.a.createElement("button",{className:Oe.a.OrderButton,disabled:!e.purchasable,onClick:e.ordered},e.isAuth?"ORDER NOW":"SIGN IN TO ORDER"))},ke=n(40),xe=n(26),ye=function(e){var t=Object.keys(e.ingredients).map((function(t){return a.a.createElement("li",{key:t},a.a.createElement("span",{style:{textTransform:"capitalize"}},t),":"," ",e.ingredients[t])}));return a.a.createElement(G.a,null,a.a.createElement("h3",null,"Your Order"),a.a.createElement("p",null,"Delicious Burger with the following ingredients:"),a.a.createElement("ul",null,t),a.a.createElement("p",null,a.a.createElement("strong",null,"Total Price: ",e.price.toFixed(2),"\u20ac")),a.a.createElement("p",null,"Continue to checkout?"),a.a.createElement(xe.a,{btnType:"Danger",clicked:e.purchaseCancelled},"CANCEL"),a.a.createElement(xe.a,{btnType:"Success",clicked:e.purchaseContinued},"CONTINUE"))},Se=n(27),we=n(49),Ce=Object(i.b)((function(e){return{ingredients:e.burgerBuilder.ingredients,totalPrice:e.burgerBuilder.totalPrice,error:e.burgerBuildererror,isAuthenticated:null!==e.auth.token,building:e.burgerBuilder.building}}),(function(e){return{onAddIngredient:function(t){return e(g.a(t))},onRemoveIngredient:function(t){return e(g.v(t))},onInitIngredients:function(){return e(g.o())},onInitPurchase:function(){return e(g.u())},onSetAuthRedirectPath:function(t){return e(g.w(t))}}}))(Object(we.a)((function(e){var t=Object(r.useState)(!1),n=Object(q.a)(t,2),c=n[0],u=n[1],o=e.onInitIngredients;Object(r.useEffect)((function(){o()}),[o]);var i=function(){u(!1)},l=Object(x.a)({},e.ingredients);for(var s in l)l[s]=l[s]<=0;var d,f=null,m=e.error?a.a.createElement("p",null,"Ingredients can't be loaded!"):a.a.createElement(Se.a,null);return e.ingredients&&(m=a.a.createElement(G.a,null,a.a.createElement(ge.a,{ingredients:e.ingredients}),a.a.createElement(Ie,{price:e.totalPrice,ingredientAdded:e.onAddIngredient,ingredientRemoved:e.onRemoveIngredient,disabled:l,purchasable:(d=e.ingredients,Object.values(d).some((function(e){return e>0}))),isAuth:e.isAuthenticated,ordered:function(){e.isAuthenticated?u(!0):(e.onSetAuthRedirectPath("/checkout"),e.history.push("/auth"))}})),f=a.a.createElement(ye,{ingredients:e.ingredients,price:e.totalPrice,purchaseCancelled:i,purchaseContinued:function(){e.onInitPurchase(),e.history.push({pathname:"/checkout"})}})),a.a.createElement(G.a,null,a.a.createElement(ke.a,{show:c,modalClosed:i},f),m)}),y.a)),Te=n(25),Ne=n(60),Be=n(8),Ae=n(73),De=n.n(Ae),Re=Object(i.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token,buildingBurger:e.burgerBuilder.building,authRedirectPath:e.auth.authRedirectPath}}),(function(e){return{onAuth:function(t,n,r){return e(g.b(t,n,r))},onSetAuthRedirectPath:function(t){return e(g.w(t))}}}))((function(e){var t=Object(r.useState)({email:{label:"E-mail",elementType:"input",elementConfig:{type:"email",placeholder:"E-mail"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{label:"Password",elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}}),n=Object(q.a)(t,2),c=n[0],u=n[1],o=Object(r.useState)(!1),i=Object(q.a)(o,2),l=i[0],s=i[1],d=e.buildingBurger,f=e.authRedirectPath,m=e.onSetAuthRedirectPath;Object(r.useEffect)((function(){d||"/"===f||m("/")}),[d,f,m]);var b=[];for(var p in c)b.push({id:p,config:c[p]});var g=b.map((function(e){return a.a.createElement(Ne.a,{key:e.id,label:e.config.label,inputType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var n=Object(Be.b)(c,Object(Te.a)({},t,Object(Be.b)(c[t],{value:e.target.value,valid:Object(Be.a)(e.target.value,c[t].validation),touched:!0})));u(n)}(t,e.id)}})}));e.loading&&(g=a.a.createElement(Se.a,null));var h=null;e.isAuthenticated&&(h=a.a.createElement(z.a,{to:e.authRedirectPath}));var E=null;return e.error&&(E=a.a.createElement("p",{style:{color:"red"}},e.error.message)),a.a.createElement("div",{className:De.a.Auth},h,a.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.onAuth(c.email.value,c.password.value,l)}},g,a.a.createElement(xe.a,{btnType:"Success"},l?"Sign Up":"Sign In")),a.a.createElement(xe.a,{btnType:"Danger",clicked:function(){s(!l)}},"Switch to ".concat(l?"Sign In":"Sign Up"," ")),E)})),Le=Object(i.b)(null,(function(e){return{onLogout:function(){return e(g.p())}}}))((function(e){var t=e.onLogout;return Object(r.useEffect)((function(){t()}),[t]),a.a.createElement(z.a,{to:"/"})})),Pe=Object(r.lazy)((function(){return n.e(3).then(n.bind(null,109))})),Ue=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,110))})),He=Object(i.b)((function(e){return{isAuthenticated:null!==e.auth.token}}),(function(e){return{onTryAutoSignIn:function(){return e(g.c())}}}))((function(e){var t=e.onTryAutoSignIn;Object(r.useEffect)((function(){t()}),[t]);var n=a.a.createElement(z.d,null,a.a.createElement(z.b,{path:"/auth",component:Re}),a.a.createElement(z.b,{path:"/",exact:!0,component:Ce}),a.a.createElement(z.a,{to:"/"}));return e.isAuthenticated&&(n=a.a.createElement(z.d,null,a.a.createElement(z.b,{path:"/checkout",component:Pe}),a.a.createElement(z.b,{path:"/orders",component:Ue}),a.a.createElement(z.b,{path:"/logout",component:Le}),a.a.createElement(z.b,{path:"/auth",component:Re}),a.a.createElement(z.b,{path:"/",exact:!0,component:Ce}),a.a.createElement(z.a,{to:"/"}))),a.a.createElement("div",null,a.a.createElement(pe,null,a.a.createElement(r.Suspense,{fallback:a.a.createElement(Se.a,null)},n)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Fe={ingredients:null,totalPrice:4,error:!1,building:!1},Me={salad:.5,cheese:.4,meat:1.3,bacon:.7},ze=function(e,t){var n=Object(Te.a)({},t.ingredientName,e.ingredients[t.ingredientName]+1),r={ingredients:Object(Be.b)(e.ingredients,n),totalPrice:e.totalPrice+Me[t.ingredientName],building:!0};return Object(Be.b)(e,r)},qe=function(e,t){var n=Object(Te.a)({},t.ingredientName,e.ingredients[t.ingredientName]-1),r={ingredients:Object(Be.b)(e.ingredients,n),totalPrice:e.totalPrice-Me[t.ingredientName],building:!0};return Object(Be.b)(e,r)},Ge=function(e,t){return Object(Be.b)(e,{ingredients:{salad:t.ingredients.salad,bacon:t.ingredients.bacon,cheese:t.ingredients.cheese,meat:t.ingredients.meat},totalPrice:4,error:!1,building:!1})},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.a:return ze(e,t);case R.x:return qe(e,t);case R.z:return Ge(e,t);case R.m:return Object(Be.b)(e,{error:!0});default:return e}},Ke={orders:[],loading:!1,purchased:!1},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.v:var n=Object(x.a)(Object(x.a)({},t.orderData),{},{id:t.orderId}),r={loading:!1,purchased:!0,orders:e.orders.concat(n)};return Object(Be.b)(e,r);case R.t:return Object(Be.b)(e,{loading:!1});case R.u:return Object(Be.b)(e,{loading:!0});case R.w:return Object(Be.b)(e,{purchased:!1});case R.p:return Object(Be.b)(e,{loading:!0});case R.q:return Object(Be.b)(e,{loading:!1,orders:t.orders});case R.o:return Object(Be.b)(e,{loading:!1});case R.l:var a=e.orders.filter((function(e){return e.id!==t.orderId}));return Object(Be.b)(e,{orders:a});default:return e}},Je={token:null,userId:null,error:null,loading:!1,authRedirectPath:"/"},Qe=function(e,t){return Object(Be.b)(e,{error:null,loading:!0})},Ve=function(e,t){var n={token:t.idToken,userId:t.userId,error:null,loading:!1};return Object(Be.b)(e,n)},Ye=function(e,t){return Object(Be.b)(e,{error:t.error,loading:!1})},$e=function(e,t){return Object(Be.b)(e,{token:null,userId:null})},Xe=function(e,t){return Object(Be.b)(e,{authRedirectPath:t.path})},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.g:return Qe(e);case R.h:return Ve(e,t);case R.d:return Ye(e,t);case R.f:return $e(e);case R.y:return Xe(e,t);default:return e}},tt=o.d,nt=Object(o.c)({burgerBuilder:We,order:Ze,auth:et}),rt=Object(s.a)(),at=Object(o.e)(nt,tt(Object(o.a)(l.a,rt)));rt.run(H),rt.run(F),rt.run(M);var ct=a.a.createElement(i.a,{store:at},a.a.createElement($.a,null,a.a.createElement(He,null)));u.a.render(ct,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[76,1,2]]]);
//# sourceMappingURL=main.a6afc67a.chunk.js.map